<html>
      <head>
        <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1,user-scalable=no" />
        <meta charset="utf-8">
        <meta name="referrer" content="never">
        <title>ANROID动态加载技术 系列索引 | 浩浩的博客</title>
        <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
        <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://fqzhanghao.github.io//styles/main.css">
          <script src="https://fqzhanghao.github.io//media/scripts/mdui.min.js"></script>
        <link rel="stylesheet" href="https://at.alicdn.com/t/font_1306644_jwtuc2zzbrd.css">
        <link href="https://fonts.googleapis.com/css?family=Dancing+Script|Ma+Shan+Zheng&display=swap" rel="stylesheet">
        <script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
        <script src="https://fqzhanghao.github.io//media/scripts/script.js"></script>
        <script >hljs.initHighlightingOnLoad();</script>
        

    </head>
    <body class="mdui-theme-primary-purple mdui-theme-accent-purple">
        <header class="index-img mdui-m-b-3" >
                          <button class="mdui-btn  mdui-btn-icon mdui-btn-dense mdui-color-theme-500 mdui-ripple yinying mdui-m-t-1 mdui-m-l-1" mdui-menu="{target: '#demo-attr-cascade'}"><i class="mdui-icon material-icons">&#xe5d2;</i></button>
                <ul class="mdui-menu" id="demo-attr-cascade">
                
                        <li class="mdui-menu-item">
                          <a href="/" class="mdui-ripple">首页</a>
                        </li>
                
                        <li class="mdui-menu-item">
                          <a href="/archives" class="mdui-ripple">归档</a>
                        </li>
                
                        <li class="mdui-menu-item">
                          <a href="/post/about" class="mdui-ripple">关于</a>
                        </li>
                
                      </ul>

        </header>
        <div class="mdui-container post">
                <div class="mdui-row">
                        <div class="mdui-col-md-8 mdui-col-offset-md-2 ">
                         <article class="mdui-shadow-10 mdui-p-a-2 post-list">
                           <div class="mdui-typo-display-1 mdui-m-b-3">ANROID动态加载技术 系列索引</div>
                           <a  class="index-list-biaoqian ">2020-01-19</a>
                           <div class="mdui-typo mdui-m-t-3 post-neirong"><p>转载自:<a href="https://link.zhihu.com/?target=https://github.com/kaedea">https://link.zhihu.com/?target=https://github.com/kaedea</a></p>
<!--more-->
<h2 id="动态加载介绍">动态加载介绍</h2>
<p>说到动态加载，我们经常使用“插件化”、“热修复”、“热部署”等词汇，所以大家应该不会陌生。本系列的文章的主要目的是分析一下整个动态加载的过程，重点分析其中的关键技术点，并且开发一个比较灵活的动态加载框架，用于满足不同程度的业务需求。</p>
<p>在Android开发中采用动态加载技术，可以达到不安装新的APK就升级APP功能的目的，可以用来到达快速发版的目的，也可以用来修复一些紧急BUG。</p>
<p>现在使用得比较广泛的动态加载技术的核心一般都是使用 ClassLoader ，后者能够加载程序外部的类（已编译好的），从而达到升级代码逻辑的目的。虽然动态加载的核心原理比较简单，但是根据功能的复杂程度，实际在Android项目中使用的时候还要涉及许多其他方面的知识，这里分为几个篇幅分别进行介绍。</p>
<h3 id="1-简单易懂的介绍">1. 简单易懂的介绍</h3>
<p>内容：</p>
<ol>
<li>动态加载技术在Android中的使用背景；</li>
<li>Android的动态的加载大致可以分为“加载SO库”和“加载DEX/JAR/APK”两种；</li>
<li>动态加载的基础是类加载器ClassLoader；</li>
<li>使用动态加载的三种模式；</li>
<li>采用动态加载的作用与代价；</li>
<li>除了ClassLoader之外的动态修改代码的技术（HotFix）；</li>
<li>一些动态加载的开源项目；</li>
</ol>
<p>地址：<a href="https://zhuanlan.zhihu.com/p/20515156">简单易懂的介绍</a></p>
<h3 id="2-动态加载的分类">2. 动态加载的分类</h3>
<p>内容：介绍一下动态加载的类型，理清一下动态加载、插件化、热部署、热修复等技术之间的关系。</p>
<p>地址：<a href="https://zhuanlan.zhihu.com/p/20893580">动态加载的分类</a></p>
<h3 id="3-类加载器classloader的工作机制">3. 类加载器ClassLoader的工作机制</h3>
<p>内容：</p>
<ol>
<li>类加载器ClassLoader的创建过程和加载类的过程；</li>
<li>ClassLoader的双亲代理模式；</li>
<li>DexClassLoader和PathClassLoader之间的区别；</li>
<li>使用ClassLoader加载外部类需要注意的一些问题；</li>
<li>自定义ClassLoader（Hack开发）</li>
</ol>
<p>地址：<a href="https://zhuanlan.zhihu.com/p/20524252">ClassLoader的工作机制</a></p>
<h3 id="4-加载sd卡的so库">4. 加载SD卡的SO库</h3>
<p>内容：</p>
<ol>
<li>如何编译和使用SO库；</li>
<li>分析Android中加载SO库相关的源码；</li>
<li>如何加载SD卡中的SO库（也是动态加载APK需要解决的问题）；</li>
</ol>
<p>地址：<a href="https://zhuanlan.zhihu.com/p/21303038">加载SD卡的SO库</a></p>
<h3 id="5-使用so库时需要注意的一些问题">5. 使用SO库时需要注意的一些问题</h3>
<p>内容：介绍使用SO库开发时的一些坑，提供从网络下载并加载SO库的策略。</p>
<p>地址：<a href="https://zhuanlan.zhihu.com/p/21302804">加载SD卡的SO库</a></p>
<h3 id="6-简单的动态加载模式">6. 简单的动态加载模式</h3>
<p>内容：</p>
<ol>
<li>如何创建我们需要的dex文件；</li>
<li>如何加载dex文件里面的类；</li>
<li>动态加载dex文件在ART虚拟机的兼容性问题；</li>
</ol>
<p>地址：<a href="https://link.zhihu.com/?target=http://segmentfault.com/a/1190000004062952">简单加载模式</a></p>
<h3 id="7-代理activity的模式">7. 代理Activity的模式</h3>
<p>内容：</p>
<ol>
<li>如何启动插件APK中没有注册的Activity</li>
<li>代理Activity模式开源项目“dynamic-load-apk”</li>
</ol>
<p>地址：<a href="https://zhuanlan.zhihu.com/p/21335594">代理Activity模式</a></p>
<h3 id="8-动态创建activity的模式">8. 动态创建Activity的模式</h3>
<p>内容：</p>
<ol>
<li>如何在运行时动态创建一个Activity；</li>
<li>自定义ClassLoader并偷梁换柱替换想要加载的类；</li>
<li>动态创建Activity模式开源项目“android-pluginmgr”</li>
<li>代理模式与动态创建类模式的区别；</li>
</ol>
<p>地址：<a href="https://zhuanlan.zhihu.com/p/21348609">动态创建Activity模式</a></p>
<p>还未发布的内容</p>
<ol>
<li>使用“环境注入”的模式；</li>
<li>使用动态加载技术的情形；</li>
<li>使用动态加载方式项目的项目结构调整和开发调试方式；</li>
<li>开源项目“Android-Frontia”，动态加载框架的项目，特点是专注于“插件化”和“宿主与插件之间的通讯”、灵活的扩展和使用方式，并提供完整的插件更新、安装和管理策略；</li>
</ol>
</div>
                              <div class="mdui-divider mdui-m-t-3"></div>
                              <div class="mdui-row-xs-2 mdui-m-t-2">
  <div class="mdui-col"> <div class="mdui-text-left"><a href="https://fqzhanghao.github.io/post/attrstyle-he-theme-xiang-jie">Attr、Style和Theme详解</a></div></div>
 <div class="mdui-col"><div class="mdui-text-right "><a href="https://fqzhanghao.github.io/post/android-huo-qu-view-gao-du-de-san-chong-fang-shi">Android获取view高度的三种方式</a></div> </div>
                                </div>
                                <div class="mdui-divider mdui-m-t-2"></div>
   
 <script src="https://fqzhanghao.github.io//media/scripts/Valine.min.js"></script>
 <div class="comment"></div>

<script>
      new Valine({
            el: '.comment',



            path: window.location.pathname,
            pageSize: 30,
            avatar:'mm', 
       })

    </script> 
<script>
    if(window.location.hash){
        var checkExist = setInterval(function() {
           if ($(window.location.hash).length) {
              $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
              clearInterval(checkExist);
           }
        }, 100);
    }
</script>
                         </article>
                 <div class="toc-container mdui-float-right">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E4%BB%8B%E7%BB%8D">动态加载介绍</a>
<ul>
<li><a href="#1-%E7%AE%80%E5%8D%95%E6%98%93%E6%87%82%E7%9A%84%E4%BB%8B%E7%BB%8D">1. 简单易懂的介绍</a></li>
<li><a href="#2-%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E7%9A%84%E5%88%86%E7%B1%BB">2. 动态加载的分类</a></li>
<li><a href="#3-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8classloader%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6">3. 类加载器ClassLoader的工作机制</a></li>
<li><a href="#4-%E5%8A%A0%E8%BD%BDsd%E5%8D%A1%E7%9A%84so%E5%BA%93">4. 加载SD卡的SO库</a></li>
<li><a href="#5-%E4%BD%BF%E7%94%A8so%E5%BA%93%E6%97%B6%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98">5. 使用SO库时需要注意的一些问题</a></li>
<li><a href="#6-%E7%AE%80%E5%8D%95%E7%9A%84%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%BC%8F">6. 简单的动态加载模式</a></li>
<li><a href="#7-%E4%BB%A3%E7%90%86activity%E7%9A%84%E6%A8%A1%E5%BC%8F">7. 代理Activity的模式</a></li>
<li><a href="#8-%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BAactivity%E7%9A%84%E6%A8%A1%E5%BC%8F">8. 动态创建Activity的模式</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>

                        </div>
                 </div>
          
        </div>
        <script data-no-instant>
    (function ($) {
        $.extend({
            adamsOverload: function () {
                $.viewImage({
                    'target'  : '.post-neirong img',
                    'exclude' : '.vsmile-icons img , .song-links-item img',
                    'delay'   : 300
                });
            }
        });
    })(jQuery);
    jQuery.adamsOverload();
</script>
        <footer class="footer mdui-m-t-5 mdui-text-center">
               <nav class="social-links">
                      <ul>
                      
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                      </ul>
                    </nav>
                  <div class="copyright">
                      <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></p>
                  </div>
              </footer>
    </body>
</html>